{"remainingRequest":"D:\\Project\\Java\\Springboot_Vue_Mall\\vue\\end\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\Project\\Java\\Springboot_Vue_Mall\\vue\\end\\src\\views\\UserAssign.vue?vue&type=style&index=0&id=a6db2d58&scoped=true&lang=css","dependencies":[{"path":"D:\\Project\\Java\\Springboot_Vue_Mall\\vue\\end\\src\\views\\UserAssign.vue","mtime":1711381130985},{"path":"D:\\Project\\Java\\Springboot_Vue_Mall\\vue\\end\\node_modules\\css-loader\\dist\\cjs.js","mtime":1708869952464},{"path":"D:\\Project\\Java\\Springboot_Vue_Mall\\vue\\end\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\Project\\Java\\Springboot_Vue_Mall\\vue\\end\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\Project\\Java\\Springboot_Vue_Mall\\vue\\end\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1708869950964},{"path":"D:\\Project\\Java\\Springboot_Vue_Mall\\vue\\end\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hZGQtc3VibWl0IHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9Cg=="},{"version":3,"sources":["D:\\Project\\Java\\Springboot_Vue_Mall\\vue\\end\\src\\views\\UserAssign.vue"],"names":[],"mappings":";AAiLA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB","file":"D:/Project/Java/Springboot_Vue_Mall/vue/end/src/views/UserAssign.vue","sourceRoot":"","sourcesContent":["<template>\n  <div style=\"padding: 10px;\">\n    <div v-if=\"existData\">\n      <div class=\"add-box\" style=\"width:60%;padding-left: 35%\">\n        <el-Form :model=\"form\" :rules=\"rules\" label-position=\"left\" ref=\"form\" :label-width=\"100\">\n          <el-form-item label=\"营业执照\" prop=\"certificationImg\">\n            <template #default=\"scope\">\n              <el-image style=\"width: 300px; height: 300px\" :src=\"existData.certificationImg\" :preview-src-list=\"[existData.certificationImg]\">\n                <div solt=\"error\" class=\"image-slot\">\n                  <i class=\"el-icon-picture-outline\"></i>\n                </div>\n              </el-image>\n            </template>\n          </el-form-item>\n          <el-form-item label=\"认证图片1\" prop=\"img_1\">\n            <template #default=\"scope\">\n              <el-image style=\"width: 300px; height: 300px\" :src=\"existData.img1\" :preview-src-list=\"[existData.img1]\">\n                <div solt=\"error\" class=\"image-slot\">\n                  <i class=\"el-icon-picture-outline\"></i>\n                </div>\n              </el-image>\n            </template>\n          </el-form-item>\n          <el-form-item v-if=\"existData.img2!=null\" label=\"认证图片2\">\n            <template #default=\"scope\">\n              <el-image style=\"width: 300px; height: 300px\" :src=\"existData.img2\" :preview-src-list=\"[existData.img2]\">\n                <div solt=\"error\" class=\"image-slot\">\n                  <i class=\"el-icon-picture-outline\"></i>\n                </div>\n              </el-image>\n            </template>\n          </el-form-item>\n          <el-form-item v-if=\"existData.img3!=null\" label=\"认证图片3\">\n            <template #default=\"scope\">\n              <el-image style=\"width: 300px; height: 300px\" :src=\"existData.img3\" :preview-src-list=\"[existData.img3]\">\n                <div solt=\"error\" class=\"image-slot\">\n                  <i class=\"el-icon-picture-outline\"></i>\n                </div>\n              </el-image>\n            </template>\n          </el-form-item>\n        </el-Form>\n      </div>\n      <div class=\"add-submit\">\n        <el-Button type=\"primary\" disabled=\"disabled\">已提交 请等待审核</el-Button>\n      </div>\n    </div>\n    <div v-if=\"!existData\">\n      <div class=\"add-box\" style=\"width:60%;padding-left: 35%\">\n        <el-Form :model=\"form\" :rules=\"rules\" label-position=\"left\" ref=\"form\" :label-width=\"100\">\n          <el-form-item label=\"营业执照\" prop=\"certificationImg\">\n            <el-upload ref=\"uplode\"\n                       action=\"http://localhost:8888/files/uplode\"\n                       :on-success=\"filesUplodeSeccess1\">\n              <el-button size=\"small\" type=\"primary\">上传</el-button>\n              <template #tip>\n                <div class=\"el-upload__tip\">\n                  只能上传jpg/png文件且文件大小不超过1MB\n                </div>\n              </template>\n            </el-upload>\n          </el-form-item>\n          <el-form-item label=\"认证图片1\" prop=\"img_1\">\n            <el-upload ref=\"uplode\"\n                       action=\"http://localhost:8888/files/uplode\"\n                       :on-success=\"filesUplodeSeccess2\">\n              <el-button size=\"small\" type=\"primary\">上传</el-button>\n              <template #tip>\n                <div class=\"el-upload__tip\">\n                  只能上传jpg/png文件且文件大小不超过1MB\n                </div>\n              </template>\n            </el-upload>\n          </el-form-item>\n          <el-form-item label=\"认证图片2\">\n            <el-upload ref=\"uplode\"\n                       action=\"http://localhost:8888/files/uplode\"\n                       :on-success=\"filesUplodeSeccess3\">\n              <el-button size=\"small\" type=\"primary\">上传</el-button>\n              <template #tip>\n                <div class=\"el-upload__tip\">\n                  只能上传jpg/png文件且文件大小不超过1MB\n                </div>\n              </template>\n            </el-upload>\n          </el-form-item>\n          <el-form-item label=\"认证图片3\">\n            <el-upload ref=\"uplode\"\n                       action=\"http://localhost:8888/files/uplode\"\n                       :on-success=\"filesUplodeSeccess4\">\n              <el-button size=\"small\" type=\"primary\">上传</el-button>\n              <template #tip>\n                <div class=\"el-upload__tip\">\n                  只能上传jpg/png文件且文件大小不超过1MB\n                </div>\n              </template>\n            </el-upload>\n          </el-form-item>\n        </el-Form>\n      </div>\n      <div class=\"add-submit\">\n        <el-Button type=\"primary\" @click=\"submitData\">提交资料</el-Button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport request from \"@/utils/request\";\n\nimport {ElMessage} from \"element-plus\";\n\nexport default {\n  name: 'User',\n\n  components: {},\n  data() {\n    return {\n      accountId: '',\n      form: {},\n      existData: {},\n      rules: {\n        certificationImg: [\n          {required: true, message: '请上传营业执照', trigger: 'blur'}\n        ],\n        img_1: [\n          {required: true, message: '请至少上传一张认证图片', trigger: 'blur'}\n        ]\n      }\n    }\n  },\n  created() {\n    this.accountId = JSON.parse(sessionStorage.getItem('userInfo')).id;\n    request.get(\"/register/find/\" + this.accountId).then(res => {\n      this.existData = res\n      this.lode()\n      this.dialogVisible = false\n    })\n  },\n  methods: {\n    filesUplodeSeccess1(res) {\n      this.form.certificationImg = res.data\n    },\n    filesUplodeSeccess2(res) {\n      this.form.img1 = res.data\n    },\n    filesUplodeSeccess3(res) {\n      this.form.img2 = res.data\n    },\n    filesUplodeSeccess4(res) {\n      this.form.img3 = res.data\n    },\n    submitData() {\n      this.form.accountId = this.accountId;\n      request.post(\"/register/add\", this.form).then(res => {\n        if (res.code === 200) {\n          ElMessage({\n            type: 'success',\n            message: '添加成功',\n          })\n        } else {\n          ElMessage({\n            type: 'error',\n            message: res.msg\n          })\n        }\n        this.lode()\n        this.dialogVisible = false\n        location.reload()\n      })\n    }\n  },\n}\n</script>\n\n<style scoped>\n.add-submit {\n  display: flex;\n  justify-content: center;\n}\n</style>\n"]}]}